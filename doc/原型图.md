Of course. You are correct, the design must strictly reflect the provided `AI社区全流程架构蓝图.txt` without any additional assumptions.

I will now redesign all the previously discussed pages, ensuring every single element is directly supported by the provided text. Any UI component or piece of data not explicitly mentioned in the architecture document will be removed. Each element in the wireframes below is now justified with a citation from your document.

-----

### **1. Main Feed Page (`/feed`) [Strict Redesign]**

[cite\_start]This page is the user's main discovery interface, strictly showing a list of artworks from the feed endpoint[cite: 1, 8].

#### **Figma Style Wireframe: Main Feed Page**

```
+--------------------------------------------------------------------------+
| [Logo] AI Community                       [生成 / 上传] (User Avatar)    |  <- Header
+--------------------------------------------------------------------------+
|                                                                          |
|    +-----------------------+      +-----------------------+              |
|    |                       |      |                       |              |
|    |  [Thumbnail Image]    |      |  [Thumbnail Image]    |              |
|    |                       |      |                       |              |
|    +-----------------------+      +-----------------------+              |
|    | Artwork Title         |      | Artwork Title         |              |
|    | (u) User Name         |      | (u) User Name         |              |
|    | [♥ 1.2k]  [⭐]         |      | [♥ 304]   [⭐]         |              |
|    +-----------------------+      +-----------------------+              |
|                                                                          |
|                       [Loading Spinner]                                  |
+--------------------------------------------------------------------------+
```

#### **Component Breakdown (Strictly Adhering to the Blueprint):**

  * **Header:**
      * [cite\_start]**[生成 / 上传] Button:** Corresponds to the "生成 / 上传表单 (非公开)" frontend component[cite: 1]. Clicking it opens the creation modal.
      * [cite\_start]**(User Avatar):** Represents a logged-in user[cite: 9]. [cite\_start]Clicking it should lead to the user's personal works list at `/user/:username`[cite: 1].
  * **Artwork Card Grid:**
      * [cite\_start]**Data Source:** Fetches a list of artworks from the `GET /api/feed` endpoint[cite: 8].
      * [cite\_start]**[Thumbnail Image]:** Displayed using the R2 path `/artworks/thumb/:uuid`[cite: 16]. [cite\_start]The entire card is a link to `/artwork/:id/:slug`[cite: 1]. [cite\_start]It must use lazy loading as specified[cite: 1].
      * [cite\_start]**Artwork Title:** Sourced from the `artworks.title` database field[cite: 10].
      * [cite\_start]**(u) User Name:** Displays the author's `users.profile_pic` and `users.name`[cite: 9].
      * **[♥ Like Button & Count]:**
          * [cite\_start]**Interaction:** Triggers `POST /api/artworks/:id/like`[cite: 6].
          * [cite\_start]**Data:** The count is returned as `like_count` from the API [cite: 6] [cite\_start]and cached in Redis under `artwork:{id}:likes`[cite: 14].
      * **[⭐ Favorite Button]:**
          * [cite\_start]**Interaction:** Triggers `POST /api/artworks/:id/favorite`[cite: 7].
          * [cite\_start]**State:** The button's highlighted state is determined by the `is_favorite` field returned by the API[cite: 7].

-----

### **2. Single Artwork Page (`/artwork/:id/:slug`) [Strict Redesign]**

A detailed view of one artwork, built only with fields available in the database schema.

#### **Figma Style Wireframe: Single Artwork Page**

```
+--------------------------------------------------------------------------+
| [Logo] AI Community                       [生成 / 上传] (User Avatar)    |
+--------------------------------------------------------------------------+
| +----------------------------------------------------------------------+ |
| |                                                                      | |
| |                        [Original Image / Video]                      | |
| |                                                                      | |
| +----------------------------------------------------------------------+ |
|                                                                          |
|  Artwork Title [status: published]                                       |
|  +--------------------------------------------------------------------+  |
|  | (u) Author Name                                                    |  |
|  |   Created: [created_at]                                            |  |
|  +--------------------------------------------------------------------+  |
|                                                                          |
|  [ ♥ Like (1.2k) ]   [ ⭐ Add to Favorites ]                             |  <- Action Bar
|                                                                          |
|  [ Publish Artwork ] <-- (Visible only if artwork status is 'draft' and user is owner)
+--------------------------------------------------------------------------+
```

#### **Component Breakdown (Strictly Adhering to the Blueprint):**

  * [cite\_start]**SSR & SEO:** This page must be rendered server-side (SSR) to populate `SEO meta` tags[cite: 1].

  * [cite\_start]**[Original Image / Video]:** The full-resolution file from the R2 path `/artworks/original/:uuid` [cite: 15][cite\_start], using lazy loading[cite: 1].

  * [cite\_start]**Artwork Title:** Displays the `artworks.title` field[cite: 10].

  * [cite\_start]**Status:** Displays the `artworks.status` field ('draft' or 'published')[cite: 10].

  * [cite\_start]**Author Name:** Displays `users.name` and `users.profile_pic`, linking to `/user/:username`[cite: 1, 9].

  * [cite\_start]**Created Date:** Displays the `artworks.created_at` field[cite: 10].

  * [cite\_start]**Action Bar:** Contains the "Like" [cite: 6] [cite\_start]and "Favorite" [cite: 7] buttons, which function identically to those on the feed card.

  * [cite\_start]**[Publish Artwork] Button:** Corresponds to the "发布按钮" frontend component[cite: 1]. [cite\_start]It triggers the `POST /api/artworks/:id/publish` API endpoint to change the status from `draft` to `published`[cite: 5].

  * [cite\_start]**Removed Elements:** The "prompt" text is not displayed because it's a request parameter for generation [cite: 4][cite\_start], but not a field in the `artworks` database table[cite: 10]. The "Comments" and "Follow" features are also removed as they are not in the blueprint.

-----

### **3. User Profile Page (`/user/:username`) [Strict Redesign]**

Displays a user's information and their associated artworks.

#### **Figma Style Wireframe: User Profile Page**

```
+--------------------------------------------------------------------------+
| [Logo] AI Community                       [生成 / 上传] (User Avatar)    |
+--------------------------------------------------------------------------+
| +----------------------------------------------------------------------+ |
| |                                                                      | |
| |   (User Avatar)      Username                                        | |
| |                                                                      | |
| +----------------------------------------------------------------------+ |
|                                                                          |
|   [ My Works ]   [ Favorites ]                                           | <- Tabs
|  +--------------------------------------------------------------------+  |
|  |                                                                    |  |
|  |  +-----------+   +-----------+   +-----------+                     |  |
|  |  | [Thumb]   |   | [Thumb]   |   | [Thumb]   |                     |  |
|  |  | Title     |   | Title     |   | Title     |                     |  |
|  |  | ♥ #  ⭐    |   | ♥ #  ⭐    |   | ♥ #  ⭐    |                     |  |
|  |  +-----------+   +-----------+   +-----------+                     |  |
|  |                                                                    |  |
|  +--------------------------------------------------------------------+  |
+--------------------------------------------------------------------------+
```

#### **Component Breakdown (Strictly Adhering to the Blueprint):**

  * [cite\_start]**User Info Banner:** Displays only the `users.profile_pic` and `users.name` from the database[cite: 9].

  * **Tabs:**

      * [cite\_start]**[My Works]:** Corresponds to the "用户作品列表" component[cite: 1]. [cite\_start]It fetches data from `GET /api/users/:id/artworks` [cite: 7][cite\_start], which is cached in the `user:{user_id}:artworks` Redis list[cite: 12]. [cite\_start]If the viewer is the owner, this list will show works with both `draft` and `published` statuses[cite: 10].
      * **[Favorites]:** This displays a list of artworks the user has favorited. Data source: GET /api/users/:id/favorites（读取 `artworks_favorite` 表并结合缓存 `user:{user_id}:favorites`）。

  * **Artwork Grid:** Re-uses the same artwork card component from the feed.

  * **Removed Elements:** "Edit Profile" button and user statistics like "Likes Received" are removed as there are no corresponding APIs or database fields.

-----

### **4. Generation / Upload Form (Modal View)**

This component allows users to create new artworks. It should appear as a modal overlay on top of the current page when the "Generate" button is clicked.

**Figma Style Wireframe: Generation / Upload Modal**

+--------------------------------------------------------------------------+
|  Create New Artwork                                                 [X]  |
| +----------------------------------------------------------------------+ |
| |  [ Generate with AI ]  [ Upload File ]                               | | <- Tabs
| +----------------------------------------------------------------------+ |
| |                                                                      | |
| |  Prompt                                                              | |
| |  +----------------------------------------------------------------+  | |
| |  | Enter your prompt here... (e.g., a cat in a spacesuit)         |  | |
| |  +----------------------------------------------------------------+  | |
| |                                                                      | |
| |  +----------------------------------------------------------------+  | |
| |  | [Optional] Upload a base image for img2img                     |  | |
| |  +----------------------------------------------------------------+  | |
| |                                                                      | |
| |                                             [ Generate Artwork ]     | | <- Step 1: Generate
| |                                                                      | |
| |----------------------------------------------------------------------| |
| |                                                                      | |
| |  +-----------------------+    Title                                  | |
| |  |                       |    +------------------------------------+  | |
| |  | [Generated Image]     |    | My Awesome AI Artwork              |  | |
| |  | (status: draft)       |    +------------------------------------+  | |
| |  +-----------------------+                                           | |
| |                                               [ Publish Artwork ]    | | <- Step 2: Publish
| |                                                                      | |
| +----------------------------------------------------------------------+ |
+--------------------------------------------------------------------------+
Component Breakdown & Interaction Flow:
Select Tab: User chooses between "Generate with AI" or "Upload File". The wireframe details the AI path.

Generate Artwork (First Interaction):

User fills in the "Prompt" textarea and optionally uploads a file.

Clicking [Generate Artwork] triggers POST /api/artworks/generate with the prompt and optional file.


While generating, a loading state should be displayed.

On success, the API returns an artwork_id and a temporary url for the original file, which has been uploaded to R2. A record is created in the artworks D1 table with status:draft.


Display and Publish (Second Interaction):

The frontend automatically displays the generated image in the preview area, clearly marked with a "draft" status.

The user can now enter a 

title for the artwork.

Clicking [Publish Artwork] triggers POST /api/artworks/:id/publish using the artwork_id received in the previous step.

This API call updates the artwork's status in the D1 database from draft to published

The backend then triggers asynchronous tasks to generate thumbnails and update the feed.

The modal closes, and the user might be redirected to their new artwork's page or see a confirmation. The new work should now appear in their public profile and the main feed.

  * **Tabs:** "Generate with AI" and "Upload File" correspond to the two creation methods.
  * [cite\_start]**Generate Path:** Uses `POST /api/artworks/generate` with `prompt` and optional `file` parameters[cite: 4].
  * [cite\_start]**Upload Path:** Uses `POST /api/artworks/upload` with a `file` parameter[cite: 5].
  * [cite\_start]**Workflow:** After creation, the artwork has `status:draft`[cite: 4]. [cite\_start]The user adds a `title` [cite: 10] [cite\_start]and clicks the publish button, which triggers `POST /api/artworks/:id/publish`[cite: 5]. [cite\_start]This flow is explicitly detailed in the sequence diagram[cite: 17].

-----

### **5. 营销落地页 (Marketing Landing Page)**

核心策略：这是一个高度动态化的页面模板。它的 <h1> 标题和首屏展示的作品可以根据当前追逐的“新词”快速更换，以最大化 SEO 效果。页面本身极其轻量，确保闪电般的加载速度。

Figma Style Wireframe: Marketing Landing Page
+--------------------------------------------------------------------------+
| [Logo] AI Community                                     [登录/注册]      | <- Minimalist Header
+--------------------------------------------------------------------------+
|                                                                          |
|                <h1>生成最潮的 [动态关键词] AI艺术作品</h1>                | <- SEO H1 Title
|                                                                          |
|         <p>只需一句话，即刻拥有属于你的AIGC杰作。免费、快速、无限创意。</p>       |
|                                                                          |
|                      [  立即免费生成 →  ]                                | <- Primary CTA
|                                                                          |
|   +-----------------+   +-----------------+   +-----------------+        |
|   | [热门作品Thumb] |   | [热门作品Thumb] |   | [热门作品Thumb] |        | <- Visual Proof
|   +-----------------+   +-----------------+   +-----------------+        |
|                                                                          |
+--------------------------------------------------------------------------+  <- Above the Fold
|                                                                          |
|                      <h2>三步创作，如此简单</h2>                         | <- How it Works
|                                                                          |
|   [1. 输入你的想法]  ->  [2. AI即刻生成]  ->  [3. 发布并分享]            |
|                                                                          |
|                                                                          |
|                      <h2>为什么选择我们？</h2>                         |
|                                                                          |
|   +-----------------+   +-----------------+   +-----------------+        |
|   |   ⚡️ 极速出图   |   |   🎨 模型先进   |   |   🌐 社区分享   |        | <- Core Features
|   +-----------------+   +-----------------+   +-----------------+        |
|                    [ 查看全部功能... (-> Features Page) ]                  |
|                                                                          |
|                                                                          |
|          <h2>加入我们，释放你的创造力</h2>                               |
|                                                                          |
|                      [  立即免费生成 →  ]                                | <- Secondary CTA
|                                                                          |
+--------------------------------------------------------------------------+
| [Footer: 关于我们 | 服务条款 | 隐私政策]                                 |
+--------------------------------------------------------------------------+

Component Breakdown & SEO/开发策略:
Minimalist Header:


[登录/注册] Button: 这是页面上最主要的操作之一。点击后触发 POST /api/auth/login 流程，建议使用 Google 登录以简化流程 。

Above the Fold (首屏内容):

<h1> [动态关键词] Title: 这是SEO的核心。该标题需要能够通过后台或配置文件快速修改，例如今天追“赛博朋克猫”，明天就可以改成“水墨风山水”。

Primary CTA ([立即免费生成 →]): 页面最重要的按钮，直接链接到登录/注册流程（POST /api/auth/login）。目标是让访客无需滚动即可完成核心操作。


Visual Proof ([热门作品Thumb]): 动态展示与 [动态关键词] 相关的、最吸引人的几张作品。这些图片必须是经过压缩的缩略图（/artworks/thumb/:uuid），并使用图片懒加载（lazy loading）以确保不影响首屏加载速度。整个页面必须通过 SSR（服务器端渲染）生成，以实现最快的首屏内容呈现（FCP）和最佳的 SEO 效果。

How it Works & Core Features:

使用简洁的图文介绍核心流程。

[查看全部功能...] 链接：为有深度了解意愿的用户提供入口，链接到下面的“功能介绍页”。

Secondary CTA:

在页面底部重复号召性用语，转化滚动到底部的访客。

### **6. 功能介绍页 (Features Page)**
核心策略：此页面作为落地页的补充，详细介绍平台的所有核心功能。页面结构清晰，每个功能点都使用  或  标题，使其自身也能成为独立的SEO入口，捕获更具体、更长尾的搜索关键词（例如“如何使用AI图生图”、“AI作品社区”等）。<h2><h3>

Figma Style Wireframe: Features Page
+--------------------------------------------------------------------------+
| [Logo] AI Community                       [Generate] (User Avatar/Login) | <- Standard App Header
+--------------------------------------------------------------------------+
|                                                                          |
|                      <h1>探索我们强大的AI创作功能</h1>                     |
|         <p>从一个简单的想法到一件惊艳的艺术品，我们提供全流程创作工具。</p>       |
|                                                                          |
+--------------------------------------------------------------------------+
|                                                                          |
|  +--------------------------------------+  +---------------------------+ |
|  |                                      |  | <h2>文生图 & 图生图</h2>     | |
|  |      [生成界面截图/动画]             |  | <p>强大的AI引擎，精准理解你的 | |
|  | (展示prompt输入和图片上传)           |  | 文字或图片，生成高质量作品。| |
|  |                                      |  |  - 支持中文Prompt         | |
|  |                                      |  |  - 上传参考图进行创作     | |
|  +--------------------------------------+  +---------------------------+ |
|                                             (对应API: /api/artworks/generate) 
+--------------------------------------------------------------------------+
|                                                                          |
|  +---------------------------+  +--------------------------------------+ |
|  | <h2>从草稿到发布</h2>       |  |                                      | |
|  | <p>作品生成后自动存为草稿， |  | [作品状态变化示意图]                 | |
|  | 给你充足的时间进行调整和命 |  |   (Draft -> Published)             | |
|  | 名，满意后再一键发布到社区。|  |                                      | |
|  +---------------------------+  +--------------------------------------+ |
|                  (对应 status:draft/published  和 /api/artworks/:id/publish)
+--------------------------------------------------------------------------+
|                                                                          |
|  +--------------------------------------+  +---------------------------+ |
|  |                                      |  | <h2>发现、点赞与收藏</h2>    | |
|  |      [社区Feed流截图]                |  | <p>在推荐Feed中发现灵感，为你 | |
|  |                                      |  | 喜欢的作品点赞，并收藏它们 | |
|  |                                      |  | 以便随时回顾。             | |
|  +--------------------------------------+  +---------------------------+ |
|          (对应API: /api/feed , /api/artworks/:id/like , /api/artworks/:id/favorite )
+--------------------------------------------------------------------------+
|                                                                          |
|                       <h1>准备好开始创作了吗？</h1>                         |
|                                                                          |
|                         [  立即免费加入 →  ]                              |
|                                                                          |
+--------------------------------------------------------------------------+
Component Breakdown & SEO/开发策略:
结构化内容 (Structured Content):

每个核心功能（如AI生成、发布流程、社区互动）都作为一个独立的区块。

每个区块的标题（<h2>）都应针对一个长尾关键词进行优化。例如，“文生图 & 图生图”可以吸引搜索“text-to-image generator”的用户。

功能与技术点对应:


文生图 & 图生图：对应 API 为 POST /api/artworks/generate，支持参数：prompt 与可选 file。


从草稿到发布：这个流程是产品特色。需要解释 status:draft → status:published 的过程，这是通过 POST /api/artworks/:id/publish 实现的。


发现、点赞与收藏: 展示社区的活力。这里要链接到社区的核心交互 API：获取推荐作品（GET /api/feed）、点赞（POST /api/artworks/:id/like）、以及收藏（POST /api/artworks/:id/favorite）。

性能优化:

和落地页一样，此页面也必须采用 

SSR 和 图片懒加载，即使内容较多，也要保证首屏的快速访问。 

所有的截图和示意图都应是经过优化的WebP或AVIF格式。

